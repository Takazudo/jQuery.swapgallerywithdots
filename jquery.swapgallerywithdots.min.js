/*! jQuery.swapgallerywithdots (https://github.com/Takazudo/jQuery.swapgallerywithdots)
 * lastupdate: 2013-09-03
 * version: 0.1.2
 * author: 'Takazudo' Takeshi Takatsudo <takazudo@gmail.com>
 * License: MIT */
(function(){(function(t){var e;return e={},e.Main=function(){function i(i,n){this.$el=i,this.options=t.extend({},e.Main.defaults,n),this.$gallery=this.$el.find(this.options.selector_gallery_container),this._countItems(),this._putDotsHtml(),this._prepareTouchdragh(),this._prepareDots(),this._eventify()}return i.defaults={selector_gallery_container:null,selector_gallery_inner:null,selector_gallery_inner2:null,selector_gallery_item:null,selector_dot_container:null,selector_dot_item:null,class_dot_activeItem:null,class_dot_inactiveItem:null,src_dotItem:null,stepwidth:null,widthbetween:0,forever:!1,forever_duplicate_count:1,maxindex:"auto"},i.prototype._countItems=function(){var t;return t=this.options.selector_gallery_item,this._itemsCount=this.$gallery.find(t).length,this},i.prototype._prepareTouchdragh=function(){var t,e,i;return i=this.options,t=this.$gallery.find(i.selector_gallery_item),e={inner:i.selector_gallery_inner,inner2:i.selector_gallery_inner2,item:i.selector_gallery_item,stepwidth:i.stepwidth||t.eq(0).outerWidth(),widthbetween:i.widthbetween||0,maxindex:i.maxindex,forever:i.forever,forever_duplicate_count:i.forever_duplicate_count,inner2left:i.inner2left||0},this.$gallery.touchdraghsteppy(e),this.touchdragh=this.$gallery.data("touchdraghsteppy"),this},i.prototype._putDotsHtml=function(){var t,e,i,n;for(this.$dots=this.$el.find(this.options.selector_dot_container),t=this.options.src_dotItem,e="",i=0,n=this._itemsCount;n>=0?n>i:i>n;n>=0?i++:i--)e+=t;return this.$dots.append(e),this},i.prototype._prepareDots=function(){var t,e;return e=this.options,t={selector_item:e.selector_dot_item,class_activeItem:e.class_dot_activeItem},e.class_dot_inactiveItem&&(t.class_inactiveItem=e.class_dot_inactiveItem),this.$dots.currentDots(t),this.dot=this.$dots.data("currentDots"),this},i.prototype._eventify=function(){var t=this;return this.dot.on("itemclick",function(e){return t.touchdragh.to(e.index,!0)}),this.touchdragh.on("indexchange",function(e){var i;return i=t._normalizeIndexForDot(e.index),t.dot.to(i)}),this},i.prototype._normalizeIndexForDot=function(t){var e,i,n;return e=this.options,i=this._itemsCount*e.forever_duplicate_count,t-=i,n=t%this._itemsCount,0>t&&(n=this._itemsCount-Math.abs(n),n===this._itemsCount&&(n=0)),n},i}(),t.fn.swapgallerywithdots=function(i){return this.each(function(n,o){var r,s;r=t(o),s=new e.Main(r,i),r.data("swapgallerywithdots",s)})},t.SwapgallerywithdotsNs=e,t.Swapgallerywithdots=e.Main})(jQuery)}).call(this);